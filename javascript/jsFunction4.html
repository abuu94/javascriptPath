<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style role="stylesheet">

</style>

<body class="container">

    <h1> Anonymous Function Example</h1>

    <div id="container">
        <p>
            But down there it would be dark now, and not the lovely lighted aquarium she
            imagined it to be during the daylight hours, eddying with schools of tiny,
            delicate animals floating and dancing slowly to their own serene currents
            and creating the look of a living painting. That was wrong, in any case. The
            ocean was different from an aquarium, which was an artificial environment.
            The ocean was a world. And a world is not art. Dorothy thought about the
            living things that moved in that world: large, ruthless and hungry. Like us
            up here.
        </p>
    </div>

    <div>
        <input type="checkbox" id="passive" name="passive" checked />
        <label for="passive">passive</label>
    </div>




    <script>
        const passive = document.querySelector("#passive");
        passive.addEventListener("change", (event) => {
            container.removeEventListener("wheel", wheelHandler);
            container.addEventListener("wheel", wheelHandler, {
                passive: passive.checked,
                once: true,
            });
        });

        const container = document.querySelector("#container");
        container.addEventListener("wheel", wheelHandler, {
            passive: true,
            once: true,
        });

        function wheelHandler() {
            function isPrime(n) {
                for (let c = 2; c <= Math.sqrt(n); ++c) {
                    if (n % c === 0) {
                        return false;
                    }
                }
                return true;
            }

            const quota = 1000000;
            const primes = [];
            const maximum = 1000000;

            while (primes.length < quota) {
                const candidate = Math.floor(Math.random() * (maximum + 1));
                if (isPrime(candidate)) {
                    primes.push(candidate);
                }
            }

            console.log(primes);
        }




    </script>


</body>

</html>